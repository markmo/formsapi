var React = require('react');
var StringHelper = require('../helpers/string');

var Truncated = React.createClass({displayName: "Truncated",

  getInitialState: function () {
    return {
      truncated: true
    };
  },

  toggleMore: function (event) {
    event.preventDefault();
    this.setState({truncated: !this.state.truncated});
  },

  render: function () {
    var size = this.props.size || 240;
    var text = this.props.text || '';
    if (text.length > size) {
      if (this.state.truncated) {
        return (
          React.createElement("div", null, 
            StringHelper.truncate(text, size), React.createElement("a", {href: "#", onClick: this.toggleMore}, "â€¦")
          )
        );
      } else {
        return (
          React.createElement("div", null, text, " ", React.createElement("a", {href: "#", onClick: this.toggleMore}, "<"))
        );
      }
    } else {
      return (
        React.createElement("div", null, text)
      );
    }
  }
});

module.exports = Truncated;